{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\moren\\\\Bureaublad\\\\Coding\\\\LOL-API\\\\site\\\\pages\\\\match\\\\[match_id].js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport { useEffect, useState } from 'react';\nimport { Kayn, REGIONS } from 'kayn';\nimport { msToTime, getFromDatabase } from '../../methods/general_methods';\nimport { convertChampList, getPosition, convertTimelineList } from '../../methods/league_methods';\nimport MapCanvas from '../../components/mapCanvas';\nimport { riotAPIKey } from '../../constants/constants';\nexport default function Match({\n  match,\n  timeline,\n  champions\n}) {\n  let participants = [];\n  console.log(\"timeline\", timeline);\n  const champList = convertChampList(champions);\n  let positionList = {};\n\n  if (match !== null && match !== void 0 && match.participantIdentities) {\n    for (const index in match === null || match === void 0 ? void 0 : match.participantIdentities) {\n      var _champList$part$champ, _part$timeline, _part$timeline2;\n\n      const partIdent = match === null || match === void 0 ? void 0 : match.participantIdentities[index];\n      const part = match === null || match === void 0 ? void 0 : match.participants[index];\n      console.log(\"part\", part);\n      let partData = {};\n      partData.name = partIdent.player.summonerName;\n      partData.championId = part.championId;\n      partData.team = part.teamId == 200 ? \"Red\" : \"Blue\";\n      console.log(\"champ info\", champList[part.championId]);\n      partData.champName = champList[part.championId].name;\n      partData.champImage = (_champList$part$champ = champList[part.championId].image) === null || _champList$part$champ === void 0 ? void 0 : _champList$part$champ.full;\n      partData.position = getPosition(part === null || part === void 0 ? void 0 : (_part$timeline = part.timeline) === null || _part$timeline === void 0 ? void 0 : _part$timeline.role, part === null || part === void 0 ? void 0 : (_part$timeline2 = part.timeline) === null || _part$timeline2 === void 0 ? void 0 : _part$timeline2.lane);\n      participants[partIdent.participantId] = partData;\n      positionList[partIdent.participantId] = {};\n      positionList[partIdent.participantId].position = [];\n    }\n  }\n\n  if (timeline !== null && timeline !== void 0 && timeline.frames) {\n    for (const itemFrame of timeline.frames) {\n      if (itemFrame !== null && itemFrame !== void 0 && itemFrame.participantFrames) {\n        for (const item of Object.values(itemFrame.participantFrames)) {\n          if (item.position && item.participantId) {\n            positionList[item.participantId].position.push({\n              position: item.position,\n              timestamp: itemFrame.timestamp,\n              time: msToTime(itemFrame.timestamp)\n            });\n          }\n        }\n      } //Loop over events\n\n\n      if (itemFrame !== null && itemFrame !== void 0 && itemFrame.events) {\n        for (const frameEvent of itemFrame.events) {\n          if (frameEvent !== null && frameEvent !== void 0 && frameEvent.position) {\n            if (frameEvent !== null && frameEvent !== void 0 && frameEvent.killerId) {\n              positionList[frameEvent.killerId].position.push({\n                position: frameEvent.position,\n                timestamp: frameEvent.timestamp,\n                time: msToTime(frameEvent.timestamp)\n              });\n            }\n\n            if (frameEvent !== null && frameEvent !== void 0 && frameEvent.victimId) {\n              positionList[frameEvent.victimId].position.push({\n                position: frameEvent.position,\n                timestamp: frameEvent.timestamp,\n                time: msToTime(frameEvent.timestamp)\n              });\n            }\n\n            if (frameEvent !== null && frameEvent !== void 0 && frameEvent.assistingParticipantIds) {\n              for (const part of frameEvent === null || frameEvent === void 0 ? void 0 : frameEvent.assistingParticipantIds) {\n                positionList[part].position.push({\n                  position: frameEvent.position,\n                  timestamp: frameEvent.timestamp,\n                  time: msToTime(frameEvent.timestamp)\n                });\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  for (const i of Object.keys(positionList)) {\n    const list = positionList[i].position;\n    const sortedList = list.sort((a, b) => {\n      return a.timestamp - b.timestamp;\n    });\n    positionList[i].position = sortedList;\n    positionList[i].user = participants[i];\n  }\n\n  console.log(positionList);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MapCanvas, {\n      location: positionList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"jsx-3467520004\",\n      children: \"participants\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      className: \"jsx-3467520004\",\n      children: JSON.stringify(participants, null, 2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"jsx-3467520004\",\n      children: \"timeline\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), (timeline === null || timeline === void 0 ? void 0 : timeline.frames) && timeline.frames.map(frame => {\n      const personFrames = frame.participantFrames;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jsx-3467520004\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-3467520004\" + \" \" + \"timestamp\",\n          children: msToTime(frame.timestamp)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-3467520004\" + \" \" + \"personFramescontainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jsx-3467520004\" + \" \" + \"header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-3467520004\" + \" \" + \"name\",\n              children: \"Naam\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-3467520004\" + \" \" + \"champ\",\n              children: \"Champion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-3467520004\" + \" \" + \"gold\",\n              children: \"Gold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-3467520004\" + \" \" + \"totalgold\",\n              children: \"Total gold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-3467520004\" + \" \" + \"level\",\n              children: \"Level\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-3467520004\" + \" \" + \"exp\",\n              children: \"XP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-3467520004\" + \" \" + \"lane-cs\",\n              children: \"Lane cs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-3467520004\" + \" \" + \"jungle-cs\",\n              children: \"Jungle cs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-3467520004\" + \" \" + \"position\",\n              children: \"Position\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), personFrames && Object.values(personFrames).map(item => {\n            var _item$position, _item$position2, _participants$item$pa, _participants$item$pa2;\n\n            const position = `[${item === null || item === void 0 ? void 0 : (_item$position = item.position) === null || _item$position === void 0 ? void 0 : _item$position.x} , ${item === null || item === void 0 ? void 0 : (_item$position2 = item.position) === null || _item$position2 === void 0 ? void 0 : _item$position2.y} ]`;\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-3467520004\" + \" \" + \"item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-3467520004\" + \" \" + \"name\",\n                  children: participants && ((_participants$item$pa = participants[item === null || item === void 0 ? void 0 : item.participantId]) === null || _participants$item$pa === void 0 ? void 0 : _participants$item$pa.name)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-3467520004\" + \" \" + \"champion\",\n                  children: participants && ((_participants$item$pa2 = participants[item === null || item === void 0 ? void 0 : item.participantId]) === null || _participants$item$pa2 === void 0 ? void 0 : _participants$item$pa2.champName)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-3467520004\" + \" \" + \"gold\",\n                  children: item === null || item === void 0 ? void 0 : item.currentGold\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-3467520004\" + \" \" + \"totalgold\",\n                  children: item === null || item === void 0 ? void 0 : item.totalGold\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-3467520004\" + \" \" + \"level\",\n                  children: item === null || item === void 0 ? void 0 : item.level\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-3467520004\" + \" \" + \"xp\",\n                  children: item === null || item === void 0 ? void 0 : item.xp\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-3467520004\" + \" \" + \"lane-cs\",\n                  children: item === null || item === void 0 ? void 0 : item.minionsKilled\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-3467520004\" + \" \" + \"jungle-cs\",\n                  children: item === null || item === void 0 ? void 0 : item.jungleMinionsKilled\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"jsx-3467520004\" + \" \" + \"position\",\n                  children: position\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this)\n            }, void 0, false);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 16\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"jsx-3467520004\",\n      children: \"match\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      className: \"jsx-3467520004\",\n      children: JSON.stringify(match, null, 2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"3467520004\",\n      children: \".personFramescontainer.jsx-3467520004{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border:1px solid darkgreen;}.header.jsx-3467520004>div.jsx-3467520004,.item.jsx-3467520004>div.jsx-3467520004{-webkit-flex:1;-ms-flex:1;flex:1;}.header.jsx-3467520004,.item.jsx-3467520004{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.header.jsx-3467520004{border-bottom:1px solid black;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbW9yZW5cXEJ1cmVhdWJsYWRcXENvZGluZ1xcTE9MLUFQSVxcc2l0ZVxccGFnZXNcXG1hdGNoXFxbbWF0Y2hfaWRdLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQThJUyxBQUdpQixBQUtOLEFBR00sQUFJa0IsOEJBQ2hDLEdBUEEseUNBTHVCLEFBUUgscUVBQ3BCLFNBUjZCLDJCQUM3QiIsImZpbGUiOiJDOlxcVXNlcnNcXG1vcmVuXFxCdXJlYXVibGFkXFxDb2RpbmdcXExPTC1BUElcXHNpdGVcXHBhZ2VzXFxtYXRjaFxcW21hdGNoX2lkXS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEtheW4sIFJFR0lPTlMgfSBmcm9tICdrYXluJ1xuaW1wb3J0IHsgbXNUb1RpbWUsIGdldEZyb21EYXRhYmFzZSB9IGZyb20gJy4uLy4uL21ldGhvZHMvZ2VuZXJhbF9tZXRob2RzJztcbmltcG9ydCB7IGNvbnZlcnRDaGFtcExpc3QsIGdldFBvc2l0aW9uLCBjb252ZXJ0VGltZWxpbmVMaXN0IH0gZnJvbSAnLi4vLi4vbWV0aG9kcy9sZWFndWVfbWV0aG9kcyc7XG5pbXBvcnQgTWFwQ2FudmFzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbWFwQ2FudmFzJztcbmltcG9ydCB7IHJpb3RBUElLZXkgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvY29uc3RhbnRzJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNYXRjaCh7IG1hdGNoLCB0aW1lbGluZSwgY2hhbXBpb25zIH0pIHtcbiAgbGV0IHBhcnRpY2lwYW50cyA9IFtdO1xuICBjb25zb2xlLmxvZyhcInRpbWVsaW5lXCIsIHRpbWVsaW5lKTtcbiAgY29uc3QgY2hhbXBMaXN0ID0gY29udmVydENoYW1wTGlzdChjaGFtcGlvbnMpO1xuICBsZXQgcG9zaXRpb25MaXN0ID0ge307XG5cbiAgaWYgKG1hdGNoPy5wYXJ0aWNpcGFudElkZW50aXRpZXMpIHtcbiAgICBmb3IgKGNvbnN0IGluZGV4IGluIG1hdGNoPy5wYXJ0aWNpcGFudElkZW50aXRpZXMpIHtcbiAgICAgIGNvbnN0IHBhcnRJZGVudCA9IG1hdGNoPy5wYXJ0aWNpcGFudElkZW50aXRpZXNbaW5kZXhdO1xuICAgICAgY29uc3QgcGFydCA9IG1hdGNoPy5wYXJ0aWNpcGFudHNbaW5kZXhdO1xuICAgICAgY29uc29sZS5sb2coXCJwYXJ0XCIsIHBhcnQpO1xuICAgICAgbGV0IHBhcnREYXRhID0ge307XG4gICAgICBwYXJ0RGF0YS5uYW1lID0gcGFydElkZW50LnBsYXllci5zdW1tb25lck5hbWU7XG4gICAgICBwYXJ0RGF0YS5jaGFtcGlvbklkID0gcGFydC5jaGFtcGlvbklkO1xuICAgICAgcGFydERhdGEudGVhbSA9IHBhcnQudGVhbUlkID09IDIwMCA/IFwiUmVkXCIgOiBcIkJsdWVcIjtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hhbXAgaW5mb1wiLCBjaGFtcExpc3RbcGFydC5jaGFtcGlvbklkXSlcbiAgICAgIHBhcnREYXRhLmNoYW1wTmFtZSA9IGNoYW1wTGlzdFtwYXJ0LmNoYW1waW9uSWRdLm5hbWU7XG4gICAgICBwYXJ0RGF0YS5jaGFtcEltYWdlID0gY2hhbXBMaXN0W3BhcnQuY2hhbXBpb25JZF0uaW1hZ2U/LmZ1bGw7XG4gICAgICBwYXJ0RGF0YS5wb3NpdGlvbiA9IGdldFBvc2l0aW9uKHBhcnQ/LnRpbWVsaW5lPy5yb2xlLCBwYXJ0Py50aW1lbGluZT8ubGFuZSk7XG5cbiAgICAgIHBhcnRpY2lwYW50c1twYXJ0SWRlbnQucGFydGljaXBhbnRJZF0gPSBwYXJ0RGF0YTtcbiAgICAgIHBvc2l0aW9uTGlzdFtwYXJ0SWRlbnQucGFydGljaXBhbnRJZF0gPSB7fTtcbiAgICAgIHBvc2l0aW9uTGlzdFtwYXJ0SWRlbnQucGFydGljaXBhbnRJZF0ucG9zaXRpb24gPSBbXTtcbiAgICB9XG4gIH1cbiAgaWYgKHRpbWVsaW5lPy5mcmFtZXMpIHtcbiAgICBmb3IgKGNvbnN0IGl0ZW1GcmFtZSBvZiB0aW1lbGluZS5mcmFtZXMpIHtcblxuICAgICAgaWYgKGl0ZW1GcmFtZT8ucGFydGljaXBhbnRGcmFtZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIE9iamVjdC52YWx1ZXMoaXRlbUZyYW1lLnBhcnRpY2lwYW50RnJhbWVzKSkge1xuICAgICAgICAgIGlmIChpdGVtLnBvc2l0aW9uICYmIGl0ZW0ucGFydGljaXBhbnRJZCkge1xuICAgICAgICAgICAgcG9zaXRpb25MaXN0W2l0ZW0ucGFydGljaXBhbnRJZF0ucG9zaXRpb24ucHVzaCh7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBpdGVtLnBvc2l0aW9uLFxuICAgICAgICAgICAgICB0aW1lc3RhbXA6IGl0ZW1GcmFtZS50aW1lc3RhbXAsXG4gICAgICAgICAgICAgIHRpbWU6IG1zVG9UaW1lKGl0ZW1GcmFtZS50aW1lc3RhbXApXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vTG9vcCBvdmVyIGV2ZW50c1xuICAgICAgaWYgKGl0ZW1GcmFtZT8uZXZlbnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgZnJhbWVFdmVudCBvZiBpdGVtRnJhbWUuZXZlbnRzKSB7XG4gICAgICAgICAgaWYgKGZyYW1lRXZlbnQ/LnBvc2l0aW9uKSB7XG5cbiAgICAgICAgICAgIGlmIChmcmFtZUV2ZW50Py5raWxsZXJJZCkge1xuICAgICAgICAgICAgICBwb3NpdGlvbkxpc3RbZnJhbWVFdmVudC5raWxsZXJJZF0ucG9zaXRpb24ucHVzaCh7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGZyYW1lRXZlbnQucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBmcmFtZUV2ZW50LnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB0aW1lOiBtc1RvVGltZShmcmFtZUV2ZW50LnRpbWVzdGFtcClcblxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmcmFtZUV2ZW50Py52aWN0aW1JZCkge1xuICAgICAgICAgICAgICBwb3NpdGlvbkxpc3RbZnJhbWVFdmVudC52aWN0aW1JZF0ucG9zaXRpb24ucHVzaCh7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGZyYW1lRXZlbnQucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBmcmFtZUV2ZW50LnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB0aW1lOiBtc1RvVGltZShmcmFtZUV2ZW50LnRpbWVzdGFtcClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJhbWVFdmVudD8uYXNzaXN0aW5nUGFydGljaXBhbnRJZHMpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGZyYW1lRXZlbnQ/LmFzc2lzdGluZ1BhcnRpY2lwYW50SWRzKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25MaXN0W3BhcnRdLnBvc2l0aW9uLnB1c2goe1xuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGZyYW1lRXZlbnQucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGZyYW1lRXZlbnQudGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgdGltZTogbXNUb1RpbWUoZnJhbWVFdmVudC50aW1lc3RhbXApXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKHBvc2l0aW9uTGlzdCkpIHtcbiAgICBjb25zdCBsaXN0ID0gcG9zaXRpb25MaXN0W2ldLnBvc2l0aW9uO1xuICAgIGNvbnN0IHNvcnRlZExpc3QgPSBsaXN0LnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhLnRpbWVzdGFtcCAtIGIudGltZXN0YW1wO1xuICAgIH0pXG4gICAgcG9zaXRpb25MaXN0W2ldLnBvc2l0aW9uID0gc29ydGVkTGlzdDtcbiAgICBwb3NpdGlvbkxpc3RbaV0udXNlciA9IHBhcnRpY2lwYW50c1tpXTtcbiAgfVxuXG4gIGNvbnNvbGUubG9nKHBvc2l0aW9uTGlzdCk7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxNYXBDYW52YXMgbG9jYXRpb249e3Bvc2l0aW9uTGlzdH0gLz5cblxuICAgICAgPGg0PnBhcnRpY2lwYW50czwvaDQ+XG4gICAgICA8cHJlPntKU09OLnN0cmluZ2lmeShwYXJ0aWNpcGFudHMsIG51bGwsIDIpfTwvcHJlPlxuXG4gICAgICA8aDQ+dGltZWxpbmU8L2g0PlxuICAgICAge3RpbWVsaW5lPy5mcmFtZXMgJiYgdGltZWxpbmUuZnJhbWVzLm1hcCgoZnJhbWUpID0+IHtcbiAgICAgICAgY29uc3QgcGVyc29uRnJhbWVzID0gZnJhbWUucGFydGljaXBhbnRGcmFtZXM7XG4gICAgICAgIHJldHVybiA8ZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGltZXN0YW1wXCI+XG4gICAgICAgICAgICB7bXNUb1RpbWUoZnJhbWUudGltZXN0YW1wKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBlcnNvbkZyYW1lc2NvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuYW1lXCI+TmFhbTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW1wXCI+Q2hhbXBpb248L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnb2xkXCI+R29sZDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvdGFsZ29sZFwiPlRvdGFsIGdvbGQ8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZXZlbFwiPkxldmVsPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXhwXCI+WFA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYW5lLWNzXCI+TGFuZSBjczwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImp1bmdsZS1jc1wiPkp1bmdsZSBjczwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBvc2l0aW9uXCI+UG9zaXRpb248L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3BlcnNvbkZyYW1lcyAmJiBPYmplY3QudmFsdWVzKHBlcnNvbkZyYW1lcykubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gYFske2l0ZW0/LnBvc2l0aW9uPy54fSAsICR7aXRlbT8ucG9zaXRpb24/Lnl9IF1gO1xuXG4gICAgICAgICAgICAgIHJldHVybiA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuYW1lXCI+e3BhcnRpY2lwYW50cyAmJiBwYXJ0aWNpcGFudHNbaXRlbT8ucGFydGljaXBhbnRJZF0/Lm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYW1waW9uXCI+e3BhcnRpY2lwYW50cyAmJiBwYXJ0aWNpcGFudHNbaXRlbT8ucGFydGljaXBhbnRJZF0/LmNoYW1wTmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ29sZFwiPntpdGVtPy5jdXJyZW50R29sZH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG90YWxnb2xkXCI+e2l0ZW0/LnRvdGFsR29sZH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGV2ZWxcIj57aXRlbT8ubGV2ZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInhwXCI+e2l0ZW0/LnhwfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYW5lLWNzXCI+e2l0ZW0/Lm1pbmlvbnNLaWxsZWR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImp1bmdsZS1jc1wiPntpdGVtPy5qdW5nbGVNaW5pb25zS2lsbGVkfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwb3NpdGlvblwiPntwb3NpdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIH0pfVxuICAgICAgey8qIDxwcmU+e0pTT04uc3RyaW5naWZ5KHRpbWVsaW5lLCBudWxsLCAyKX08L3ByZT4gKi99XG4gICAgICA8aDQ+bWF0Y2g8L2g0PlxuICAgICAgPHByZT57SlNPTi5zdHJpbmdpZnkobWF0Y2gsIG51bGwsIDIpfTwvcHJlPlxuICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAge2BcbiAgLnBlcnNvbkZyYW1lc2NvbnRhaW5lcntcbiAgICBkaXNwbGF5OmZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246Y29sdW1uO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIGRhcmtncmVlbjtcbiAgfVxuICAuaGVhZGVyID4gZGl2LCAuaXRlbSA+IGRpdntcbiAgICBmbGV4OjE7XG4gIH1cbiAgLmhlYWRlciwgLml0ZW17XG4gICAgZGlzcGxheTpmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOnJvdztcbiAgfVxuICAuaGVhZGVye1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBibGFjaztcbiAgfVxuICBgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKHsgcGFyYW1zIH0pIHtcblxuICBjb25zdCBrYXluID0gS2F5bihyaW90QVBJS2V5KSh7XG4gICAgcmVnaW9uOiBSRUdJT05TLkVVUk9QRV9XRVNULFxuICAgIGRlYnVnT3B0aW9uczoge1xuICAgICAgaXNFbmFibGVkOiB0cnVlLFxuICAgICAgc2hvd0tleTogZmFsc2UsXG4gICAgfSxcblxuICB9KVxuICBjb25zdCBtYXRjaF9pZCA9IHBhcmFtcy5tYXRjaF9pZDtcbiAgbGV0IG1hdGNoID0gbnVsbDtcbiAgbGV0IHRpbWVsaW5lID0gbnVsbDtcbiAgaWYgKG1hdGNoX2lkKSB7XG4gICAgbWF0Y2ggPSBhd2FpdCBnZXRGcm9tRGF0YWJhc2UoXCJtYXRjaGVzL1wiICsgbWF0Y2hfaWQpO1xuICAgIHRpbWVsaW5lID0gYXdhaXQgZ2V0RnJvbURhdGFiYXNlKFwidGltZWxpbmUvXCIgKyBtYXRjaF9pZCk7XG4gIH1cbiAgY29uc3QgY2hhbXBpb25zID0gYXdhaXQga2F5bi5ERHJhZ29uLkNoYW1waW9uLmxpc3QoKTtcbiAgcmV0dXJuIHtcbiAgICBwcm9wczogeyBtYXRjaCwgdGltZWxpbmUsIGNoYW1waW9ucyB9LCAvLyB3aWxsIGJlIHBhc3NlZCB0byB0aGUgcGFnZSBjb21wb25lbnQgYXMgcHJvcHNcbiAgfVxufSJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\moren\\\\\\\\Bureaublad\\\\\\\\Coding\\\\\\\\LOL-API\\\\\\\\site\\\\\\\\pages\\\\\\\\match\\\\\\\\[match_id].js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true);\n}\nexport async function getServerSideProps({\n  params\n}) {\n  const kayn = Kayn(riotAPIKey)({\n    region: REGIONS.EUROPE_WEST,\n    debugOptions: {\n      isEnabled: true,\n      showKey: false\n    }\n  });\n  const match_id = params.match_id;\n  let match = null;\n  let timeline = null;\n\n  if (match_id) {\n    match = await getFromDatabase(\"matches/\" + match_id);\n    timeline = await getFromDatabase(\"timeline/\" + match_id);\n  }\n\n  const champions = await kayn.DDragon.Champion.list();\n  return {\n    props: {\n      match,\n      timeline,\n      champions\n    } // will be passed to the page component as props\n\n  };\n}","map":{"version":3,"sources":["C:/Users/moren/Bureaublad/Coding/LOL-API/site/pages/match/[match_id].js"],"names":["useEffect","useState","Kayn","REGIONS","msToTime","getFromDatabase","convertChampList","getPosition","convertTimelineList","MapCanvas","riotAPIKey","Match","match","timeline","champions","participants","console","log","champList","positionList","participantIdentities","index","partIdent","part","partData","name","player","summonerName","championId","team","teamId","champName","champImage","image","full","position","role","lane","participantId","frames","itemFrame","participantFrames","item","Object","values","push","timestamp","time","events","frameEvent","killerId","victimId","assistingParticipantIds","i","keys","list","sortedList","sort","a","b","user","JSON","stringify","map","frame","personFrames","x","y","currentGold","totalGold","level","xp","minionsKilled","jungleMinionsKilled","getServerSideProps","params","kayn","region","EUROPE_WEST","debugOptions","isEnabled","showKey","match_id","DDragon","Champion","props"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\nimport { Kayn, REGIONS } from 'kayn'\nimport { msToTime, getFromDatabase } from '../../methods/general_methods';\nimport { convertChampList, getPosition, convertTimelineList } from '../../methods/league_methods';\nimport MapCanvas from '../../components/mapCanvas';\nimport { riotAPIKey } from '../../constants/constants';\n\n\nexport default function Match({ match, timeline, champions }) {\n  let participants = [];\n  console.log(\"timeline\", timeline);\n  const champList = convertChampList(champions);\n  let positionList = {};\n\n  if (match?.participantIdentities) {\n    for (const index in match?.participantIdentities) {\n      const partIdent = match?.participantIdentities[index];\n      const part = match?.participants[index];\n      console.log(\"part\", part);\n      let partData = {};\n      partData.name = partIdent.player.summonerName;\n      partData.championId = part.championId;\n      partData.team = part.teamId == 200 ? \"Red\" : \"Blue\";\n      console.log(\"champ info\", champList[part.championId])\n      partData.champName = champList[part.championId].name;\n      partData.champImage = champList[part.championId].image?.full;\n      partData.position = getPosition(part?.timeline?.role, part?.timeline?.lane);\n\n      participants[partIdent.participantId] = partData;\n      positionList[partIdent.participantId] = {};\n      positionList[partIdent.participantId].position = [];\n    }\n  }\n  if (timeline?.frames) {\n    for (const itemFrame of timeline.frames) {\n\n      if (itemFrame?.participantFrames) {\n        for (const item of Object.values(itemFrame.participantFrames)) {\n          if (item.position && item.participantId) {\n            positionList[item.participantId].position.push({\n              position: item.position,\n              timestamp: itemFrame.timestamp,\n              time: msToTime(itemFrame.timestamp)\n            });\n          }\n        }\n      }\n      //Loop over events\n      if (itemFrame?.events) {\n        for (const frameEvent of itemFrame.events) {\n          if (frameEvent?.position) {\n\n            if (frameEvent?.killerId) {\n              positionList[frameEvent.killerId].position.push({\n                position: frameEvent.position,\n                timestamp: frameEvent.timestamp,\n                time: msToTime(frameEvent.timestamp)\n\n              });\n            }\n            if (frameEvent?.victimId) {\n              positionList[frameEvent.victimId].position.push({\n                position: frameEvent.position,\n                timestamp: frameEvent.timestamp,\n                time: msToTime(frameEvent.timestamp)\n              });\n            }\n            if (frameEvent?.assistingParticipantIds) {\n              for (const part of frameEvent?.assistingParticipantIds) {\n                positionList[part].position.push({\n                  position: frameEvent.position,\n                  timestamp: frameEvent.timestamp,\n                  time: msToTime(frameEvent.timestamp)\n                });\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  for (const i of Object.keys(positionList)) {\n    const list = positionList[i].position;\n    const sortedList = list.sort((a, b) => {\n      return a.timestamp - b.timestamp;\n    })\n    positionList[i].position = sortedList;\n    positionList[i].user = participants[i];\n  }\n\n  console.log(positionList);\n  return (\n    <>\n      <MapCanvas location={positionList} />\n\n      <h4>participants</h4>\n      <pre>{JSON.stringify(participants, null, 2)}</pre>\n\n      <h4>timeline</h4>\n      {timeline?.frames && timeline.frames.map((frame) => {\n        const personFrames = frame.participantFrames;\n        return <div>\n          <div className=\"timestamp\">\n            {msToTime(frame.timestamp)}\n          </div>\n          <div className=\"personFramescontainer\">\n            <div className=\"header\">\n              <div className=\"name\">Naam</div>\n              <div className=\"champ\">Champion</div>\n              <div className=\"gold\">Gold</div>\n              <div className=\"totalgold\">Total gold</div>\n              <div className=\"level\">Level</div>\n              <div className=\"exp\">XP</div>\n              <div className=\"lane-cs\">Lane cs</div>\n              <div className=\"jungle-cs\">Jungle cs</div>\n              <div className=\"position\">Position</div>\n            </div>\n            {personFrames && Object.values(personFrames).map((item) => {\n              const position = `[${item?.position?.x} , ${item?.position?.y} ]`;\n\n              return <>\n                <div className=\"item\">\n                  <div className=\"name\">{participants && participants[item?.participantId]?.name}</div>\n                  <div className=\"champion\">{participants && participants[item?.participantId]?.champName}</div>\n                  <div className=\"gold\">{item?.currentGold}</div>\n                  <div className=\"totalgold\">{item?.totalGold}</div>\n                  <div className=\"level\">{item?.level}</div>\n                  <div className=\"xp\">{item?.xp}</div>\n                  <div className=\"lane-cs\">{item?.minionsKilled}</div>\n                  <div className=\"jungle-cs\">{item?.jungleMinionsKilled}</div>\n                  <div className=\"position\">{position}</div>\n                </div>\n              </>\n            })}\n          </div>\n        </div>\n\n      })}\n      {/* <pre>{JSON.stringify(timeline, null, 2)}</pre> */}\n      <h4>match</h4>\n      <pre>{JSON.stringify(match, null, 2)}</pre>\n      <style jsx>\n        {`\n  .personFramescontainer{\n    display:flex;\n    flex-direction:column;\n    border: 1px solid darkgreen;\n  }\n  .header > div, .item > div{\n    flex:1;\n  }\n  .header, .item{\n    display:flex;\n    flex-direction:row;\n  }\n  .header{\n    border-bottom: 1px solid black;\n  }\n  `}\n      </style>\n    </>\n  )\n}\n\nexport async function getServerSideProps({ params }) {\n\n  const kayn = Kayn(riotAPIKey)({\n    region: REGIONS.EUROPE_WEST,\n    debugOptions: {\n      isEnabled: true,\n      showKey: false,\n    },\n\n  })\n  const match_id = params.match_id;\n  let match = null;\n  let timeline = null;\n  if (match_id) {\n    match = await getFromDatabase(\"matches/\" + match_id);\n    timeline = await getFromDatabase(\"timeline/\" + match_id);\n  }\n  const champions = await kayn.DDragon.Champion.list();\n  return {\n    props: { match, timeline, champions }, // will be passed to the page component as props\n  }\n}"]},"metadata":{},"sourceType":"module"}