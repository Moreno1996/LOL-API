{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\moren\\\\OneDrive\\\\Documenten\\\\League of Legends\\\\Coding\\\\LOL-API\\\\components\\\\mapCanvas.js\";\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport { convertTimelineList } from '../methods/league_methods';\n\nconst MapCanvas = (_ref) => {\n  let {\n    location\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"location\"]);\n\n  const {\n    0: frame,\n    1: setFrame\n  } = useState(0);\n  const locationsForUser = Object.values(location).map(item => {\n    return _objectSpread({\n      converted: convertTimelineList(item.position)\n    }, item);\n  });\n  console.log(\"location\", location);\n  console.log(\"locationsForUser\", locationsForUser);\n  const canvasRef = useRef(null);\n\n  const drawPosition = (ctx, position, user, index) => {\n    const blue = user.team == \"Blue\";\n    position = position.position;\n    const minX = 0;\n    const minY = 0;\n    const maxX = 14589;\n    const maxY = 14673;\n    const posX = (position.x - minX) / (maxX - minX);\n    const posY = (position.y - minY) / (maxY - minY);\n    const locX = ctx.canvas.width * posX;\n    const locY = ctx.canvas.height - ctx.canvas.height * posY;\n    var img = new Image();\n\n    img.onload = function () {\n      ctx.drawImage(img, locX, locY, 16, 16); // Or at whatever offset you like\n    };\n\n    img.src = \"https://static.u.gg/assets/lol/riot_static/11.7.1/img/champion/\" + (user === null || user === void 0 ? void 0 : user.champImage); // ctx.beginPath();\n\n    ctx.beginPath();\n    ctx.strokeStyle = blue ? '#0000ff' : '#ff0000';\n    ctx.rect(locX, locY, 16, 16);\n    ctx.stroke(); // ctx.beginPath();\n    // ctx.strokeStyle = \"#000000\";\n    // ctx.fillStyle = blue ? '#0000ff' : '#ff0000';\n    // ctx.arc(locX, locY, 8, 0, 2 * Math.PI);\n    // ctx.fill();\n    // ctx.stroke();\n    // ctx.font = '8pt Calibri';\n    // ctx.fillStyle = 'white';\n    // ctx.textAlign = 'center';\n    // ctx.fillText(index, locX, locY + 3);\n  };\n\n  const drawPositions = (ctx, index) => {\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n    for (const i in locationsForUser) {\n      const item = locationsForUser[i];\n      const loc = item.converted;\n      drawPosition(ctx, loc[index % loc.length], item.user, i);\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"useEffect\");\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    let frameCount = 0;\n    let animationFrameId;\n    const frameRate = 50;\n\n    const render = () => {\n      frameCount++;\n\n      if (frameCount % frameRate == 0) {\n        const count = Math.floor(frameCount / frameRate);\n        drawPositions(context, count);\n        setFrame(count);\n      }\n\n      animationFrameId = window.requestAnimationFrame(render);\n    };\n\n    render(); // drawPositions(context, 0);\n\n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"jsx-1690431652\" + \" \" + \"map_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jsx-1690431652\" + \" \" + \"canvas_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-1690431652\" + \" \" + \"time\",\n          children: location && location[1] && location[1].position[frame] && location[1].position[frame].time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://oce.learnwithleague.com/wp-content/uploads/2019/06/Summoners-Rift-Overview-League-of-Legends-Artwork-Wallpaper-lol.jpg\",\n          width: \"700px\",\n          height: \"500px\",\n          alt: \"\",\n          className: \"jsx-1690431652\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", _objectSpread(_objectSpread({\n          ref: canvasRef\n        }, props), {}, {\n          width: \"520px\",\n          height: \"420px\",\n          className: \"jsx-1690431652\" + \" \" + (props && props.className != null && props.className || \"\")\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jsx-1690431652\" + \" \" + \"info_container\",\n        children: location && Object.values(location).map(item => {\n          const user = item === null || item === void 0 ? void 0 : item.user;\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"jsx-1690431652\" + \" \" + \"player\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-1690431652\" + \" \" + \"image\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"https://static.u.gg/assets/lol/riot_static/11.7.1/img/champion/\" + (user === null || user === void 0 ? void 0 : user.champImage),\n                  alt: user === null || user === void 0 ? void 0 : user.champName,\n                  className: \"jsx-1690431652\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 52\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"jsx-1690431652\" + \" \" + \"username\",\n                children: user === null || user === void 0 ? void 0 : user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 25\n            }, this)\n          }, void 0, false);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"1690431652\",\n      children: \".map_container.jsx-1690431652{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.info_container.jsx-1690431652{display:grid;grid-template-rows:repeat(5,1fr);grid-auto-flow:column;}.player.jsx-1690431652{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.player.jsx-1690431652 img.jsx-1690431652{width:3rem;height:3rem;border-radius:100%;}.canvas_container.jsx-1690431652{position:relative;}canvas.jsx-1690431652{position:absolute;left:70px;top:50px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbW9yZW5cXE9uZURyaXZlXFxEb2N1bWVudGVuXFxMZWFndWUgb2YgTGVnZW5kc1xcQ29kaW5nXFxMT0wtQVBJXFxjb21wb25lbnRzXFxtYXBDYW52YXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMkdvQixBQUd5QixBQUlBLEFBS0EsQUFLRCxBQUtNLEFBR0MsV0FQTixFQVZzQixLQWV0QyxBQUdjLEtBUFEsS0FRVCxTQUNiLEtBUkEsSUFYMEIsc0JBQzFCLE1BTnNCLEFBU0EscUVBUnRCLEFBU3NCLDZGQUN0QiIsImZpbGUiOiJDOlxcVXNlcnNcXG1vcmVuXFxPbmVEcml2ZVxcRG9jdW1lbnRlblxcTGVhZ3VlIG9mIExlZ2VuZHNcXENvZGluZ1xcTE9MLUFQSVxcY29tcG9uZW50c1xcbWFwQ2FudmFzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBjb252ZXJ0VGltZWxpbmVMaXN0IH0gZnJvbSAnLi4vbWV0aG9kcy9sZWFndWVfbWV0aG9kcyc7XHJcblxyXG5cclxuY29uc3QgTWFwQ2FudmFzID0gKHsgbG9jYXRpb24sIC4uLnByb3BzIH0pID0+IHtcclxuICAgIGNvbnN0IFtmcmFtZSwgc2V0RnJhbWVdID0gdXNlU3RhdGUoMCk7XHJcbiAgICBjb25zdCBsb2NhdGlvbnNGb3JVc2VyID0gT2JqZWN0LnZhbHVlcyhsb2NhdGlvbikubWFwKChpdGVtID0+IHtcclxuICAgICAgICByZXR1cm4geyBjb252ZXJ0ZWQ6IGNvbnZlcnRUaW1lbGluZUxpc3QoaXRlbS5wb3NpdGlvbiksIC4uLml0ZW0gfTtcclxuXHJcbiAgICB9KSlcclxuICAgIGNvbnNvbGUubG9nKFwibG9jYXRpb25cIiwgbG9jYXRpb24pXHJcbiAgICBjb25zb2xlLmxvZyhcImxvY2F0aW9uc0ZvclVzZXJcIiwgbG9jYXRpb25zRm9yVXNlcilcclxuICAgIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZihudWxsKVxyXG4gICAgY29uc3QgZHJhd1Bvc2l0aW9uID0gKGN0eCwgcG9zaXRpb24sIHVzZXIsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgY29uc3QgYmx1ZSA9IHVzZXIudGVhbSA9PSBcIkJsdWVcIlxyXG4gICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24ucG9zaXRpb247XHJcbiAgICAgICAgY29uc3QgbWluWCA9IDA7XHJcbiAgICAgICAgY29uc3QgbWluWSA9IDA7XHJcbiAgICAgICAgY29uc3QgbWF4WCA9IDE0NTg5O1xyXG4gICAgICAgIGNvbnN0IG1heFkgPSAxNDY3MztcclxuXHJcbiAgICAgICAgY29uc3QgcG9zWCA9IChwb3NpdGlvbi54IC0gbWluWCkgLyAobWF4WCAtIG1pblgpO1xyXG4gICAgICAgIGNvbnN0IHBvc1kgPSAocG9zaXRpb24ueSAtIG1pblkpIC8gKG1heFkgLSBtaW5ZKTtcclxuXHJcbiAgICAgICAgY29uc3QgbG9jWCA9IGN0eC5jYW52YXMud2lkdGggKiBwb3NYO1xyXG4gICAgICAgIGNvbnN0IGxvY1kgPSBjdHguY2FudmFzLmhlaWdodCAtIChjdHguY2FudmFzLmhlaWdodCAqIHBvc1kpO1xyXG4gICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2U7XHJcbiAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIGxvY1gsIGxvY1ksIDE2LCAxNik7IC8vIE9yIGF0IHdoYXRldmVyIG9mZnNldCB5b3UgbGlrZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW1nLnNyYyA9IFwiaHR0cHM6Ly9zdGF0aWMudS5nZy9hc3NldHMvbG9sL3Jpb3Rfc3RhdGljLzExLjcuMS9pbWcvY2hhbXBpb24vXCIgKyB1c2VyPy5jaGFtcEltYWdlO1xyXG4gICAgICAgIC8vIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYmx1ZSA/ICcjMDAwMGZmJyA6ICcjZmYwMDAwJztcclxuICAgICAgICBjdHgucmVjdChsb2NYLCBsb2NZLCAxNiwgMTYpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgICAgICAvLyBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgLy8gY3R4LnN0cm9rZVN0eWxlID0gXCIjMDAwMDAwXCI7XHJcbiAgICAgICAgLy8gY3R4LmZpbGxTdHlsZSA9IGJsdWUgPyAnIzAwMDBmZicgOiAnI2ZmMDAwMCc7XHJcbiAgICAgICAgLy8gY3R4LmFyYyhsb2NYLCBsb2NZLCA4LCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgLy8gY3R4LmZpbGwoKTtcclxuICAgICAgICAvLyBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgLy8gY3R4LmZvbnQgPSAnOHB0IENhbGlicmknO1xyXG4gICAgICAgIC8vIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xyXG4gICAgICAgIC8vIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgICAgICAvLyBjdHguZmlsbFRleHQoaW5kZXgsIGxvY1gsIGxvY1kgKyAzKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkcmF3UG9zaXRpb25zID0gKGN0eCwgaW5kZXgpID0+IHtcclxuXHJcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjdHguY2FudmFzLndpZHRoLCBjdHguY2FudmFzLmhlaWdodClcclxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gbG9jYXRpb25zRm9yVXNlcikge1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gbG9jYXRpb25zRm9yVXNlcltpXTtcclxuICAgICAgICAgICAgY29uc3QgbG9jID0gaXRlbS5jb252ZXJ0ZWQ7XHJcblxyXG4gICAgICAgICAgICBkcmF3UG9zaXRpb24oY3R4LCBsb2NbaW5kZXggJSBsb2MubGVuZ3RoXSwgaXRlbS51c2VyLCBpKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ1c2VFZmZlY3RcIik7XHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnRcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcclxuICAgICAgICBsZXQgZnJhbWVDb3VudCA9IDBcclxuICAgICAgICBsZXQgYW5pbWF0aW9uRnJhbWVJZFxyXG4gICAgICAgIGNvbnN0IGZyYW1lUmF0ZSA9IDUwO1xyXG4gICAgICAgIGNvbnN0IHJlbmRlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgZnJhbWVDb3VudCsrXHJcbiAgICAgICAgICAgIGlmIChmcmFtZUNvdW50ICUgZnJhbWVSYXRlID09IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gTWF0aC5mbG9vcihmcmFtZUNvdW50IC8gZnJhbWVSYXRlKTtcclxuICAgICAgICAgICAgICAgIGRyYXdQb3NpdGlvbnMoY29udGV4dCwgY291bnQpO1xyXG4gICAgICAgICAgICAgICAgc2V0RnJhbWUoY291bnQpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhbmltYXRpb25GcmFtZUlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlbmRlcigpXHJcblxyXG4gICAgICAgIC8vIGRyYXdQb3NpdGlvbnMoY29udGV4dCwgMCk7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSWQpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgW10pXHJcblxyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXBfY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FudmFzX2NvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge2xvY2F0aW9uICYmIGxvY2F0aW9uWzFdICYmIGxvY2F0aW9uWzFdLnBvc2l0aW9uW2ZyYW1lXSAmJiBsb2NhdGlvblsxXS5wb3NpdGlvbltmcmFtZV0udGltZX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL29jZS5sZWFybndpdGhsZWFndWUuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE5LzA2L1N1bW1vbmVycy1SaWZ0LU92ZXJ2aWV3LUxlYWd1ZS1vZi1MZWdlbmRzLUFydHdvcmstV2FsbHBhcGVyLWxvbC5qcGdcIiB3aWR0aD1cIjcwMHB4XCIgaGVpZ2h0PVwiNTAwcHhcIiBhbHQ9XCJcIiAvPlxyXG4gICAgICAgICAgICAgICAgPGNhbnZhcyByZWY9e2NhbnZhc1JlZn0gey4uLnByb3BzfSB3aWR0aD1cIjUyMHB4XCIgaGVpZ2h0PVwiNDIwcHhcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvX2NvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAge2xvY2F0aW9uICYmIE9iamVjdC52YWx1ZXMobG9jYXRpb24pLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBpdGVtPy51c2VyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwbGF5ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1hZ2VcIj48aW1nIHNyYz17XCJodHRwczovL3N0YXRpYy51LmdnL2Fzc2V0cy9sb2wvcmlvdF9zdGF0aWMvMTEuNy4xL2ltZy9jaGFtcGlvbi9cIiArIHVzZXI/LmNoYW1wSW1hZ2V9IGFsdD17dXNlcj8uY2hhbXBOYW1lfSAvPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VybmFtZVwiPnt1c2VyPy5uYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgLm1hcF9jb250YWluZXJ7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ZmxleDtcclxuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246cm93O1xyXG4gICAgICAgIH1cclxuICAgICAgICAuaW5mb19jb250YWluZXJ7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6Z3JpZDtcclxuICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoNSwgMWZyKTtcclxuICAgICAgICAgICAgZ3JpZC1hdXRvLWZsb3c6IGNvbHVtbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLnBsYXllcntcclxuICAgICAgICAgICAgZGlzcGxheTpmbGV4O1xyXG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjpyb3c7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOmNlbnRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLnBsYXllciBpbWd7XHJcbiAgICAgICAgICAgIHdpZHRoOiAzcmVtOyBcclxuICAgICAgICAgICAgaGVpZ2h0OiAzcmVtO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOjEwMCU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5jYW52YXNfY29udGFpbmVye1xyXG4gICAgICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FudmFze1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIGxlZnQ6IDcwcHg7XHJcbiAgICAgICAgICAgIHRvcDogNTBweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgYH08L3N0eWxlPlxyXG4gICAgPC8+XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1hcENhbnZhczsiXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\moren\\\\\\\\OneDrive\\\\\\\\Documenten\\\\\\\\League of Legends\\\\\\\\Coding\\\\\\\\LOL-API\\\\\\\\components\\\\\\\\mapCanvas.js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true);\n};\n\nexport default MapCanvas;","map":{"version":3,"sources":["C:/Users/moren/OneDrive/Documenten/League of Legends/Coding/LOL-API/components/mapCanvas.js"],"names":["React","useRef","useEffect","useState","convertTimelineList","MapCanvas","location","props","frame","setFrame","locationsForUser","Object","values","map","item","converted","position","console","log","canvasRef","drawPosition","ctx","user","index","blue","team","minX","minY","maxX","maxY","posX","x","posY","y","locX","canvas","width","locY","height","img","Image","onload","drawImage","src","champImage","beginPath","strokeStyle","rect","stroke","drawPositions","clearRect","i","loc","length","current","context","getContext","frameCount","animationFrameId","frameRate","render","count","Math","floor","window","requestAnimationFrame","cancelAnimationFrame","time","champName","name"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from 'react'\r\nimport { convertTimelineList } from '../methods/league_methods';\r\n\r\n\r\nconst MapCanvas = ({ location, ...props }) => {\r\n    const [frame, setFrame] = useState(0);\r\n    const locationsForUser = Object.values(location).map((item => {\r\n        return { converted: convertTimelineList(item.position), ...item };\r\n\r\n    }))\r\n    console.log(\"location\", location)\r\n    console.log(\"locationsForUser\", locationsForUser)\r\n    const canvasRef = useRef(null)\r\n    const drawPosition = (ctx, position, user, index) => {\r\n        const blue = user.team == \"Blue\"\r\n        position = position.position;\r\n        const minX = 0;\r\n        const minY = 0;\r\n        const maxX = 14589;\r\n        const maxY = 14673;\r\n\r\n        const posX = (position.x - minX) / (maxX - minX);\r\n        const posY = (position.y - minY) / (maxY - minY);\r\n\r\n        const locX = ctx.canvas.width * posX;\r\n        const locY = ctx.canvas.height - (ctx.canvas.height * posY);\r\n        var img = new Image;\r\n        img.onload = function () {\r\n            ctx.drawImage(img, locX, locY, 16, 16); // Or at whatever offset you like\r\n        };\r\n        img.src = \"https://static.u.gg/assets/lol/riot_static/11.7.1/img/champion/\" + user?.champImage;\r\n        // ctx.beginPath();\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = blue ? '#0000ff' : '#ff0000';\r\n        ctx.rect(locX, locY, 16, 16);\r\n        ctx.stroke();\r\n        // ctx.beginPath();\r\n        // ctx.strokeStyle = \"#000000\";\r\n        // ctx.fillStyle = blue ? '#0000ff' : '#ff0000';\r\n        // ctx.arc(locX, locY, 8, 0, 2 * Math.PI);\r\n        // ctx.fill();\r\n        // ctx.stroke();\r\n        // ctx.font = '8pt Calibri';\r\n        // ctx.fillStyle = 'white';\r\n        // ctx.textAlign = 'center';\r\n        // ctx.fillText(index, locX, locY + 3);\r\n    }\r\n\r\n    const drawPositions = (ctx, index) => {\r\n\r\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\r\n        for (const i in locationsForUser) {\r\n            const item = locationsForUser[i];\r\n            const loc = item.converted;\r\n\r\n            drawPosition(ctx, loc[index % loc.length], item.user, i);\r\n\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(\"useEffect\");\r\n        const canvas = canvasRef.current\r\n        const context = canvas.getContext('2d')\r\n        let frameCount = 0\r\n        let animationFrameId\r\n        const frameRate = 50;\r\n        const render = () => {\r\n            frameCount++\r\n            if (frameCount % frameRate == 0) {\r\n                const count = Math.floor(frameCount / frameRate);\r\n                drawPositions(context, count);\r\n                setFrame(count);\r\n\r\n            }\r\n            animationFrameId = window.requestAnimationFrame(render)\r\n        }\r\n        render()\r\n\r\n        // drawPositions(context, 0);\r\n        return () => {\r\n            window.cancelAnimationFrame(animationFrameId)\r\n        }\r\n    }, [])\r\n\r\n    return <>\r\n        <div className=\"map_container\">\r\n            <div className=\"canvas_container\">\r\n                <div className=\"time\">\r\n                    {location && location[1] && location[1].position[frame] && location[1].position[frame].time}\r\n                </div>\r\n                <img src=\"https://oce.learnwithleague.com/wp-content/uploads/2019/06/Summoners-Rift-Overview-League-of-Legends-Artwork-Wallpaper-lol.jpg\" width=\"700px\" height=\"500px\" alt=\"\" />\r\n                <canvas ref={canvasRef} {...props} width=\"520px\" height=\"420px\" />\r\n            </div>\r\n            <div className=\"info_container\">\r\n                {location && Object.values(location).map((item) => {\r\n                    const user = item?.user;\r\n\r\n                    return <>\r\n                        <div className=\"player\">\r\n                            <div className=\"image\"><img src={\"https://static.u.gg/assets/lol/riot_static/11.7.1/img/champion/\" + user?.champImage} alt={user?.champName} /></div>\r\n                            <div className=\"username\">{user?.name}</div>\r\n                        </div>\r\n                    </>\r\n                })}\r\n            </div>\r\n        </div>\r\n        <style jsx>{`\r\n        .map_container{\r\n            display:flex;\r\n            flex-direction:row;\r\n        }\r\n        .info_container{\r\n            display:grid;\r\n            grid-template-rows: repeat(5, 1fr);\r\n            grid-auto-flow: column;\r\n        }\r\n        .player{\r\n            display:flex;\r\n            flex-direction:row;\r\n            align-items:center;\r\n        }\r\n        .player img{\r\n            width: 3rem; \r\n            height: 3rem;\r\n            border-radius:100%;\r\n        }\r\n        .canvas_container{\r\n            position:relative;\r\n        }\r\n        canvas{\r\n            position: absolute;\r\n            left: 70px;\r\n            top: 50px;\r\n        }\r\n        `}</style>\r\n    </>\r\n}\r\n\r\nexport default MapCanvas;"]},"metadata":{},"sourceType":"module"}