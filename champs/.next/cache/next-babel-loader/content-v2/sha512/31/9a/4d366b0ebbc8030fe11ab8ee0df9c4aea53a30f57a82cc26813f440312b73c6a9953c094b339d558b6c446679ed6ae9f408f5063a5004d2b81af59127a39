{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"C:/Users/moren/OneDrive/Documenten/League of Legends/Coding/LOL-API/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"C:/Users/moren/OneDrive/Documenten/League of Legends/Coding/LOL-API/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\moren\\\\OneDrive\\\\Documenten\\\\League of Legends\\\\Coding\\\\LOL-API\\\\components\\\\mapCanvas.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useRef, useEffect } from 'react';\nimport { convertTimelineList } from '../methods/league_methods';\n\nvar MapCanvas = function MapCanvas(_ref) {\n  _s();\n\n  var location = _ref.location,\n      props = _objectWithoutProperties(_ref, [\"location\"]);\n\n  console.log(location);\n  var locationsForUser = Object.values(location).map(function (item) {\n    return _objectSpread({\n      converted: convertTimelineList(item.position)\n    }, item);\n  });\n  console.log(locationsForUser);\n  var canvasRef = useRef(null);\n\n  var drawPosition = function drawPosition(ctx, position, blue) {\n    position = position.position;\n    var minX = 0;\n    var minY = 0;\n    var maxX = 14589;\n    var maxY = 14673;\n    var posX = (position.x - minX) / (maxX - minX);\n    var posY = (position.y - minY) / (maxY - minY);\n    var locX = ctx.canvas.width * posX;\n    var locY = ctx.canvas.height - ctx.canvas.height * posY;\n    ctx.beginPath();\n    ctx.fillStyle = blue ? '#0000ff' : '#ff0000';\n    ctx.arc(locX, locY, 3, 0, 2 * Math.PI);\n    ctx.fill();\n  };\n\n  var drawPositions = function drawPositions(ctx, index) {\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n    var _iterator = _createForOfIteratorHelper(locationsForUser),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var item = _step.value;\n        var loc = item.converted;\n        var blue = item.user.team == \"Blue\";\n        drawPosition(ctx, loc[index % loc.length], blue);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n\n  useEffect(function () {\n    var canvas = canvasRef.current;\n    var context = canvas.getContext('2d');\n    var frameCount = 0;\n    var animationFrameId;\n    var frameRate = 10; //Our draw came here\n    // const render = () => {\n    //     frameCount++\n    //     if (frameCount % frameRate == 0) {\n    //         const count = Math.floor(frameCount / frameRate);\n    //         drawPositions(context, count);\n    //     }\n    //     animationFrameId = window.requestAnimationFrame(render)\n    // }\n    // render()\n\n    drawPositions(context, 0);\n    return function () {\n      window.cancelAnimationFrame(animationFrameId);\n    };\n  }, [drawPosition]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"jsx-2675910940\" + \" \" + \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://oce.learnwithleague.com/wp-content/uploads/2019/06/Summoners-Rift-Overview-League-of-Legends-Artwork-Wallpaper-lol.jpg\",\n        width: \"500px\",\n        height: \"500px\",\n        alt: \"\",\n        className: \"jsx-2675910940\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"canvas\", _objectSpread(_objectSpread({\n        ref: canvasRef\n      }, props), {}, {\n        width: \"500px\",\n        height: \"500px\",\n        className: \"jsx-2675910940\" + \" \" + (props && props.className != null && props.className || \"\")\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"2675910940\",\n      children: \".container.jsx-2675910940{position:relative;}canvas.jsx-2675910940{position:absolute;left:0;top:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbW9yZW5cXE9uZURyaXZlXFxEb2N1bWVudGVuXFxMZWFndWUgb2YgTGVnZW5kc1xcQ29kaW5nXFxMT0wtQVBJXFxjb21wb25lbnRzXFxtYXBDYW52YXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0VvQixBQUc4QixBQUdBLGtCQUZyQixBQUdVLE9BQ0QsTUFDVCIsImZpbGUiOiJDOlxcVXNlcnNcXG1vcmVuXFxPbmVEcml2ZVxcRG9jdW1lbnRlblxcTGVhZ3VlIG9mIExlZ2VuZHNcXENvZGluZ1xcTE9MLUFQSVxcY29tcG9uZW50c1xcbWFwQ2FudmFzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IGNvbnZlcnRUaW1lbGluZUxpc3QgfSBmcm9tICcuLi9tZXRob2RzL2xlYWd1ZV9tZXRob2RzJztcclxuXHJcblxyXG5jb25zdCBNYXBDYW52YXMgPSAoeyBsb2NhdGlvbiwgLi4ucHJvcHMgfSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2cobG9jYXRpb24pO1xyXG4gICAgY29uc3QgbG9jYXRpb25zRm9yVXNlciA9IE9iamVjdC52YWx1ZXMobG9jYXRpb24pLm1hcCgoaXRlbSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHsgY29udmVydGVkOiBjb252ZXJ0VGltZWxpbmVMaXN0KGl0ZW0ucG9zaXRpb24pLCAuLi5pdGVtIH07XHJcblxyXG4gICAgfSkpXHJcbiAgICBjb25zb2xlLmxvZyhsb2NhdGlvbnNGb3JVc2VyKVxyXG4gICAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmKG51bGwpXHJcbiAgICBjb25zdCBkcmF3UG9zaXRpb24gPSAoY3R4LCBwb3NpdGlvbiwgYmx1ZSkgPT4ge1xyXG4gICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24ucG9zaXRpb247XHJcbiAgICAgICAgY29uc3QgbWluWCA9IDA7XHJcbiAgICAgICAgY29uc3QgbWluWSA9IDA7XHJcbiAgICAgICAgY29uc3QgbWF4WCA9IDE0NTg5O1xyXG4gICAgICAgIGNvbnN0IG1heFkgPSAxNDY3MztcclxuXHJcbiAgICAgICAgY29uc3QgcG9zWCA9IChwb3NpdGlvbi54IC0gbWluWCkgLyAobWF4WCAtIG1pblgpO1xyXG4gICAgICAgIGNvbnN0IHBvc1kgPSAocG9zaXRpb24ueSAtIG1pblkpIC8gKG1heFkgLSBtaW5ZKTtcclxuXHJcbiAgICAgICAgY29uc3QgbG9jWCA9IGN0eC5jYW52YXMud2lkdGggKiBwb3NYO1xyXG4gICAgICAgIGNvbnN0IGxvY1kgPSBjdHguY2FudmFzLmhlaWdodCAtIChjdHguY2FudmFzLmhlaWdodCAqIHBvc1kpO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gYmx1ZSA/ICcjMDAwMGZmJyA6ICcjZmYwMDAwJztcclxuICAgICAgICBjdHguYXJjKGxvY1gsIGxvY1ksIDMsIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRyYXdQb3NpdGlvbnMgPSAoY3R4LCBpbmRleCkgPT4ge1xyXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY3R4LmNhbnZhcy53aWR0aCwgY3R4LmNhbnZhcy5oZWlnaHQpXHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGxvY2F0aW9uc0ZvclVzZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgbG9jID0gaXRlbS5jb252ZXJ0ZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGJsdWUgPSBpdGVtLnVzZXIudGVhbSA9PSBcIkJsdWVcIlxyXG4gICAgICAgICAgICBkcmF3UG9zaXRpb24oY3R4LCBsb2NbaW5kZXggJSBsb2MubGVuZ3RoXSwgYmx1ZSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG5cclxuICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudFxyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxyXG4gICAgICAgIGxldCBmcmFtZUNvdW50ID0gMFxyXG4gICAgICAgIGxldCBhbmltYXRpb25GcmFtZUlkXHJcbiAgICAgICAgY29uc3QgZnJhbWVSYXRlID0gMTA7XHJcblxyXG4gICAgICAgIC8vT3VyIGRyYXcgY2FtZSBoZXJlXHJcbiAgICAgICAgLy8gY29uc3QgcmVuZGVyID0gKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBmcmFtZUNvdW50KytcclxuICAgICAgICAvLyAgICAgaWYgKGZyYW1lQ291bnQgJSBmcmFtZVJhdGUgPT0gMCkge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgY291bnQgPSBNYXRoLmZsb29yKGZyYW1lQ291bnQgLyBmcmFtZVJhdGUpO1xyXG4gICAgICAgIC8vICAgICAgICAgZHJhd1Bvc2l0aW9ucyhjb250ZXh0LCBjb3VudCk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgYW5pbWF0aW9uRnJhbWVJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyByZW5kZXIoKVxyXG5cclxuICAgICAgICBkcmF3UG9zaXRpb25zKGNvbnRleHQsIDApO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUlkKVxyXG4gICAgICAgIH1cclxuICAgIH0sIFtkcmF3UG9zaXRpb25dKVxyXG5cclxuICAgIHJldHVybiA8PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9vY2UubGVhcm53aXRobGVhZ3VlLmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxOS8wNi9TdW1tb25lcnMtUmlmdC1PdmVydmlldy1MZWFndWUtb2YtTGVnZW5kcy1BcnR3b3JrLVdhbGxwYXBlci1sb2wuanBnXCIgd2lkdGg9XCI1MDBweFwiIGhlaWdodD1cIjUwMHB4XCIgYWx0PVwiXCIgLz5cclxuICAgICAgICAgICAgPGNhbnZhcyByZWY9e2NhbnZhc1JlZn0gey4uLnByb3BzfSB3aWR0aD1cIjUwMHB4XCIgaGVpZ2h0PVwiNTAwcHhcIiAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAuY29udGFpbmVye1xyXG4gICAgICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FudmFze1xyXG4gICAgICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgICAgICAgICAgbGVmdDowO1xyXG4gICAgICAgICAgICB0b3A6MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgYH08L3N0eWxlPlxyXG4gICAgPC8+XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1hcENhbnZhczsiXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\moren\\\\\\\\OneDrive\\\\\\\\Documenten\\\\\\\\League of Legends\\\\\\\\Coding\\\\\\\\LOL-API\\\\\\\\components\\\\\\\\mapCanvas.js */\"\n    }, void 0, false, void 0, _this)]\n  }, void 0, true);\n};\n\n_s(MapCanvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n\n_c = MapCanvas;\nexport default MapCanvas;\n\nvar _c;\n\n$RefreshReg$(_c, \"MapCanvas\");","map":{"version":3,"sources":["C:/Users/moren/OneDrive/Documenten/League of Legends/Coding/LOL-API/components/mapCanvas.js"],"names":["React","useRef","useEffect","convertTimelineList","MapCanvas","location","props","console","log","locationsForUser","Object","values","map","item","converted","position","canvasRef","drawPosition","ctx","blue","minX","minY","maxX","maxY","posX","x","posY","y","locX","canvas","width","locY","height","beginPath","fillStyle","arc","Math","PI","fill","drawPositions","index","clearRect","loc","user","team","length","current","context","getContext","frameCount","animationFrameId","frameRate","window","cancelAnimationFrame"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from 'react'\r\nimport { convertTimelineList } from '../methods/league_methods';\r\n\r\n\r\nconst MapCanvas = ({ location, ...props }) => {\r\n    console.log(location);\r\n    const locationsForUser = Object.values(location).map((item => {\r\n        return { converted: convertTimelineList(item.position), ...item };\r\n\r\n    }))\r\n    console.log(locationsForUser)\r\n    const canvasRef = useRef(null)\r\n    const drawPosition = (ctx, position, blue) => {\r\n        position = position.position;\r\n        const minX = 0;\r\n        const minY = 0;\r\n        const maxX = 14589;\r\n        const maxY = 14673;\r\n\r\n        const posX = (position.x - minX) / (maxX - minX);\r\n        const posY = (position.y - minY) / (maxY - minY);\r\n\r\n        const locX = ctx.canvas.width * posX;\r\n        const locY = ctx.canvas.height - (ctx.canvas.height * posY);\r\n        ctx.beginPath();\r\n        ctx.fillStyle = blue ? '#0000ff' : '#ff0000';\r\n        ctx.arc(locX, locY, 3, 0, 2 * Math.PI);\r\n        ctx.fill();\r\n    }\r\n\r\n    const drawPositions = (ctx, index) => {\r\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\r\n        for (const item of locationsForUser) {\r\n            const loc = item.converted;\r\n            const blue = item.user.team == \"Blue\"\r\n            drawPosition(ctx, loc[index % loc.length], blue);\r\n\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        const canvas = canvasRef.current\r\n        const context = canvas.getContext('2d')\r\n        let frameCount = 0\r\n        let animationFrameId\r\n        const frameRate = 10;\r\n\r\n        //Our draw came here\r\n        // const render = () => {\r\n        //     frameCount++\r\n        //     if (frameCount % frameRate == 0) {\r\n        //         const count = Math.floor(frameCount / frameRate);\r\n        //         drawPositions(context, count);\r\n        //     }\r\n        //     animationFrameId = window.requestAnimationFrame(render)\r\n        // }\r\n        // render()\r\n\r\n        drawPositions(context, 0);\r\n        return () => {\r\n            window.cancelAnimationFrame(animationFrameId)\r\n        }\r\n    }, [drawPosition])\r\n\r\n    return <>\r\n        <div className=\"container\">\r\n            <img src=\"https://oce.learnwithleague.com/wp-content/uploads/2019/06/Summoners-Rift-Overview-League-of-Legends-Artwork-Wallpaper-lol.jpg\" width=\"500px\" height=\"500px\" alt=\"\" />\r\n            <canvas ref={canvasRef} {...props} width=\"500px\" height=\"500px\" />\r\n        </div>\r\n        <style jsx>{`\r\n        .container{\r\n            position:relative;\r\n        }\r\n        canvas{\r\n            position:absolute;\r\n            left:0;\r\n            top:0;\r\n        }\r\n        `}</style>\r\n    </>\r\n}\r\n\r\nexport default MapCanvas;"]},"metadata":{},"sourceType":"module"}